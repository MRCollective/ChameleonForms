@using ChameleonForms.Templates
@using ChameleonForms.Templates.Default
@inject IFormTemplate DefaultFormTemplate
@{
    if ((ViewContext.HttpContext.Request.Cookies["template"] ?? "").EndsWith("nojquery"))
    {
        if (DefaultFormTemplate.GetType() == typeof (DefaultFormTemplate))
        {
            Layout = "~/Views/Shared/_LayoutWithoutJQuery.cshtml";
        }
        else
        {
            Layout = "~/Views/Shared/_Bootstrap3LayoutWithoutJQuery.cshtml";
        }
    }
    else
    {
        if (DefaultFormTemplate.GetType() == typeof (DefaultFormTemplate))
        {
            Layout = "~/Views/Shared/_Layout.cshtml";
        }
        else if (ViewContext.HttpContext.Request.Cookies["template"] == "bootstrap4")
        {
            Layout = "~/Views/Shared/_Bootstrap4Layout.cshtml";
        }
        else
        {
            Layout = "~/Views/Shared/_Bootstrap3Layout.cshtml";
        }

    }
}